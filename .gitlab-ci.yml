# Official framework image. Look for the different tagged releases at:
# https://hub.docker.com/r/library/node/tags/
image: node:latest

before_script:
 - npm prune
 - npm install
 - npm install -g grunt-cli
 - npm install -g firebase-tools

stages:
  - deploy

cache:
  paths:
    - node_modules/
  key: "$CI_BUILD_REPO"


deploy_to_firebase:
 stage: deploy
 only:
  - master
 script:
  - grunt all
  - firebase deploy --token 4/AABdTnpyMwfZbWj8KkTr-pb0ZmgOuRiutnRee_dC_y_UlYUOCORe2MI
